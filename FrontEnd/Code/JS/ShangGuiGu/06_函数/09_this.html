<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="../../global/global.js"></script>
    <script>
        /*
            this
                函数在执行时，JS解释器每次都会传递进一个隐含的参数
                这个参数就叫做this
                this会指向一个对象
                this所指向的对象会根据函数调用方式的不同而不同
                    以函数形式调用时，this指向的是window
                    以方法形式调用时，this指向的是调用方法的对象
                通过this可以在方法中引用调用方法的对象
        */
        function fn() {
            console.log(this)
        }
        fn()
        const obj = {
            name: "孙悟空",
            test: fn
        }
        obj.test()
        _()
        const obj2 = {
            name: "猪八戒",
            SayHello() {
                console.log(this.name)
            }
        }
        obj2.SayHello()
        _()
        /*
            箭头函数中的this
                ([参数]) => 返回值
            例子：
                无参箭头函数： () => 返回值
                一个参数的：a => 返回值
                多个参数的：(a,b) => 返回值

                只返回一个对象的函数：() => ({...})
                有多行语句的函数:() => {
                                    ...
                                    return 返回值
                                }
                箭头函数没有自己的this,它的this由它的外层作用域决定
                箭头函数的this和他的调用方式无关
        */
        const fn2 = () => {
            console.log("fn2=>", this)//总是window
        }
        fn2()
        const obj3 = {
            name: "沙僧",
            fn2,
            SayHello() {
                console.log(this.name)
                function t() {
                    console.log("t---->", this)
                }
                t();//以函数形式调用 window
                const fn3 = () => console.log("()=>", this)
                fn3()//箭头函数由外层作用域决定 
            }
        }
        obj3.fn2()
        obj3.SayHello()
    </script>
</head>

<body>

</body>

</html>
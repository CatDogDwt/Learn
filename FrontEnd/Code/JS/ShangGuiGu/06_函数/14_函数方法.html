<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‡½æ•°æ–¹æ³•</title>
    <script src="../../global/global.js"></script>
    <script>
        _begin()
        //ç®­å¤´å‡½æ•°æ— æ³•é€šè¿‡ä»¥ä¸‹æ–¹æ³•æŒ‡å®šthis å› ä¸ºç®­å¤´å‡½æ•°æ²¡æœ‰è‡ªå·±çš„this,å®ƒçš„thisç”±å®ƒæ‰€å¤„ä½œç”¨åŸŸçš„å¤–å±‚ä½œç”¨åŸŸå†³å®š
        /*
            è°ƒç”¨å‡½æ•°é™¤äº†é€šè¿‡ å‡½æ•°() è¿™ç§æ–¹å¼ è¿˜å¯ä»¥é€šè¿‡ å‡½æ•°.call() æˆ– å‡½æ•°.apply() æ¥è°ƒç”¨
            ä½¿ç”¨callæ–¹æ³•å’Œapplyæ–¹æ³•æ¥è°ƒç”¨å‡½æ•° å¯ä»¥æŒ‡å®šå‡½æ•°ä¸­çš„this
            callå’Œapplyçš„ç¬¬ä¸€ä¸ªå‚æ•° ä¼šæˆä¸ºå‡½æ•°çš„this
            call
                é€šè¿‡callæ–¹æ³•è°ƒç”¨å‡½æ•° å‡½æ•°çš„å®å‚ç›´æ¥åœ¨ç¬¬ä¸€ä¸ªå‚æ•°åæ·»åŠ 
            apply
                é€šè¿‡applyæ–¹æ³•è°ƒç”¨å‡½æ•° å‡½æ•°çš„å®å‚éœ€è¦é€šè¿‡æ•°ç»„ä¼ é€’
        */
        function fn() {
            console.log("###------>", this);
        }
        const obj = {
            v1: "æˆ‘æ˜¯Object",
            fn
        }
        fn.call()
        fn.call(obj)
        fn.apply()
        fn.apply(console)
        _()

        function fn2(a, b) {
            console.log("a=", a, "b=", b, "this--->", this);
        }
        fn2(666, 999)
        fn2.call(obj, 666, 999)
        fn2.apply(obj, [666, 999])
        _()

        /*
            bind() å‡½æ•°æ–¹æ³• å¯ä»¥ç”¨æ¥åˆ›å»ºä¸€ä¸ªæ–°çš„å‡½æ•° åªå½±å“æ–°å‡½æ•°
                bindå¯ä»¥ä¸ºæ–°å‡½æ•°ç»‘å®šthis ä½¿ç”¨bindä¼šé”æ­»this å³ä½¿é€šè¿‡callæˆ–applyä¹Ÿæ— æ³•æŒ‡å®šå…¶ä»–çš„this
                bindå¯ä»¥ä¸ºæ–°å‡½æ•°ç»‘å®šå‚æ•° ç»‘å®šå‚æ•°å æ— æ³•æ”¹å˜å‚æ•°çš„å€¼
        */
        function fn3(a, b, c) {
            console.log("å‡½æ•°æ‰§è¡Œï¼###----->", this, "a=", a, "b=", b, "c=", c);
        }
        const obj2 = {
            v1: "This is a obj"
        }
        fn3();
        const newFn = fn3.bind(obj2, 69, 96);
        newFn();
        _()

        class MyClass{
            fn = () => {
                console.log("MyClass---->",this);
            }
        }
        const mc = new MyClass()
        mc.fn();
        //æ— æ³•ä¿®æ”¹
        mc.fn.call(obj2) 

        _end()
        console.log("ä½¿ç”¨newFn()æ·»åŠ å®å‚ è¯•è¯•çœ‹ğŸ‘‡");
    </script>
</head>

<body>

</body>

</html>
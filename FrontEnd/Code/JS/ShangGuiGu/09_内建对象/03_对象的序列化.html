<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>对象的序列化</title>
    <script src="../../global/global.js"></script>
    <script>
        _begin()

        /*
            对象的序列化
                JS中的对象在使用时都是存在于计算机的内存中
                序列化指将对象转换为可以存储的格式
                    在JS中对象的序列化通常是将对象转换为字符串
                序列化的作用
                    对象转换为字符串后 可以将JS对象在不同的语言之间进行传递 可以直接对字符串进行读写操作
                如何进行序列化
                    在JS中有一个工具类JSON(JavaScript Object Notaion) JS对象表示法
                    JS对象序列化后会转换为一个字符串 这个字符串我们称其为JSON字符串
                可以手动编写JSON字符串
                编写JSON的注意事项
                    JSON字符串有两种类型
                        JSON对象{}
                        JSON数组[]
                    JSON字符串的属性名必须使用双引号引起来
                    JSON中可以使用的属性值(元素)
                        可以直接使用数字(Number)
                        字符串(String) 必须使用双引号
                        布尔值(Bool)
                        空值(Null)
                        对象(Object{})
                        数组(Array [])
                    JSON字符串如果属性是最后一个 则不要再加,
                用途
                    作为数据交换的格式
                    编写配置文件
            利用JSON进行深复制
                const newobj = JSON.parse(JSON.stringify(oldobj));
        */
        const obj = {
            role1: "Rikka",
            role2: "Eren",
            friend: {
                role3: "Mikasa"
            }
        }
        console.log("obj", typeof obj, "--->", obj);

        //将obj转换JSON为字符串
        const str = JSON.stringify(obj)//JSON.stringify()可以将一个对象转换为字符串
        console.log(typeof str, "--->", str);

        //将JSON字符串转换为对象
        const obj2 = JSON.parse(str)
        console.log("obj2", typeof obj2, "--->", obj2);//JSON.parse()可以将一个字符串转换为对象
        //实际上相当于进行了深复制
        console.log("obj2.friend = obj.friend?", obj2.friend == obj.friend);
        _()

        //手动编写JSON字符串
        const str2 = '{"role1": "Rikka","role2": "Eren","role3": "Mikasa"}'
        const str3 = '["Rikka","Eren","Mikasa"]'
        console.log(str2, str3);
        console.log(JSON.parse(str2), JSON.parse(str3));

         
    </script>
</head>

<body>

</body>

</html>